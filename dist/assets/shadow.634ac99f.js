import{T as e,O as C}from"./OrbitControls.b0c8d7dc.js";import{G as E}from"./dat.gui.module.6914edc7.js";import{b as X}from"./brick.99e2b106.js";import{d as Y,r as I,o as P,a as U,c as v,F as A}from"./index.a2a31b00.js";var F="/assets/random_stone_COLOR.ed7c9bb2.png",H="/assets/random_stone_NRM.280686c8.png",k="/assets/random_stone_DISP.85e0d23d.png";const B=Y({setup:(N,_)=>{const f=I(),i=new e.Scene,T=new e.AxesHelper(30);i.add(T);const a=new E;a.domElement.style.position="absolute",a.domElement.style.top="30px",a.domElement.style.right="0";const m={scale:.5};a.add(m,"scale").min(0).max(1).step(.01);const l=new e.TextureLoader,u=l.load(H),g=l.load(F),b=l.load(X),x=l.load(k);u.matrixAutoUpdate=!1,g.matrixAutoUpdate=!1,x.matrixAutoUpdate=!1;const R=new e.AmbientLight("#fff",.5);i.add(R);const r=new e.SpotLight("#FFF",.2,200,Math.PI*.25,.25,1);r.position.set(0,20,20),r.lookAt(new e.Vector3(0,0,0)),r.castShadow=!0,r.shadow.camera.far=50,i.add(r);const L=new e.CameraHelper(r.shadow.camera);i.add(L);const o={width:window.innerWidth,height:window.innerHeight},p=new e.PerspectiveCamera(75,o.width/o.height,.1,300);p.position.set(0,0,100),i.add(p);const s=new e.MeshStandardMaterial;s.metalness=.4,s.roughness=.8;const c=new e.MeshStandardMaterial;c.roughness=.68,c.color.set("#C06641"),c.normalMap=b;const M=new e.Mesh(new e.BoxBufferGeometry(50,.5,50,32,8,32),c);M.receiveShadow=!0,i.add(M);const d=new e.Mesh(new e.SphereBufferGeometry(2,128,128),s);d.position.set(0,2.25,0),d.castShadow=!0,d.receiveShadow=!1,i.add(d);let n,h;P(()=>{n=new e.WebGLRenderer({canvas:f.value}),n.setSize(o.width,o.height),n.shadowMap.enabled=!0,n.shadowMap.type=e.PCFShadowMap,h=new C(p,n.domElement),S()}),U(()=>{a.close(),a.destroy()});const y=new e.Clock,t={isRepeat:!1,offsetX:0,offsetY:0,repeatX:1,repeatY:1,rotation:1,centerX:.5,centerY:.5};a.add(t,"isRepeat"),a.add(t,"offsetX").min(0).max(1).step(.01),a.add(t,"offsetY").min(0).max(1).step(.01),a.add(t,"repeatX").min(.25).max(2).step(.01),a.add(t,"repeatY").min(.25).max(2).step(.01),a.add(t,"rotation").min(-2).max(2).step(.01),a.add(t,"centerX").min(0).max(1).step(.01),a.add(t,"centerY").min(0).max(1).step(.01);const S=()=>{window.requestAnimationFrame(S);const w=y.getElapsedTime();s.map=g,s.normalMap=u,s.normalScale.set(m.scale,m.scale),s.displacementMap=x,s.displacementScale=m.scale,s.map.matrix.setUvTransform(t.offsetX,t.offsetY,t.repeatX,t.repeatY,t.rotation,t.centerX,t.centerY),s.map.needsUpdate=!0,s.map.wrapS=s.map.wrapT=t.isRepeat?e.RepeatWrapping:e.ClampToEdgeWrapping,s.map.needsUpdate=!0,d.rotation.y=Math.PI*w,d.position.x=Math.cos(w)*10,d.position.z=Math.sin(w)*10,d.position.y=Math.abs(Math.sin(w*3))*3+2,n==null||n.render(i,p),h==null||h.update()};return window.addEventListener("resize",()=>{o.width=window.innerWidth,o.height=window.innerHeight,p.aspect=o.width/o.height,p.updateProjectionMatrix(),n==null||n.setSize(o.width,o.height),n==null||n.setPixelRatio(Math.min(window.devicePixelRatio,2))}),()=>v(A,null,[v("canvas",{ref:f},null)])}});export{B as default};

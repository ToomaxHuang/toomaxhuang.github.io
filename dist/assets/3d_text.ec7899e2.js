var H=Object.defineProperty;var T=Object.getOwnPropertySymbols;var I=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var E=(m,o,e)=>o in m?H(m,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):m[o]=e,S=(m,o)=>{for(var e in o||(o={}))I.call(o,e)&&E(m,e,o[e]);if(T)for(var e of T(o))k.call(o,e)&&E(m,e,o[e]);return m};import{T as i,F,a as U,O as j}from"./OrbitControls.b0c8d7dc.js";import{g as A}from"./grey.03470d14.js";import{G as B}from"./dat.gui.module.6914edc7.js";import{d as O,r as W,o as _,a as q,c as C,F as N}from"./index.4d12d03e.js";var V="/assets/matcap.53ae1eb8.png";const Q=O({setup:(m,o)=>{const e=W(),t=new i.Scene,v=new i.TextureLoader;v.load(A);const x=v.load(V),y="https://toomaxhuang.github.io/YouSheBiaoTiHei_Regular.json",z=new F;let w;const L=new i.MeshMatcapMaterial({matcap:x});let s,M;const h={size:24,height:5,curveSegments:6,bevelEnabled:!0,bevelThickness:1,bevelSize:.5,bevelSegments:3};z.load(y,l=>{M=l,r()});const r=()=>{w=new U("\u4F60\u597D Three.js",S({font:M},h)),w.center(),s=new i.Mesh(w,L),t.add(s);const l=new i.TorusBufferGeometry(5,2.5,8,16),P=new i.MeshMatcapMaterial({matcap:x});console.time("torus");for(let b=0;b<100;b++){const u=new i.Mesh(l,P);u.position.set((Math.random()-.5)*200,(Math.random()-.5)*200,(Math.random()-.5)*200),u.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI);const g=Math.random();u.scale.set(g,g,g),t.add(u)}console.timeEnd("torus")},n=new B;n.domElement.style.position="absolute",n.domElement.style.top="30px",n.domElement.style.right="0px",n.add(h,"size").min(1).max(80).step(.01).onChange(()=>{t.remove(s),r()}),n.add(h,"height").min(.1).max(10).step(.01).onChange(()=>{t.remove(s),r()}),n.add(h,"curveSegments").min(3).max(32).step(1).onChange(()=>{t.remove(s),r()}),n.add(h,"bevelEnabled").onChange(()=>{t.remove(s),r()}),n.add(h,"bevelThickness").min(.01).max(32).step(.01).onChange(()=>{t.remove(s),r()}),n.add(h,"bevelSize").min(.2).max(32).step(.01).onChange(()=>{t.remove(s),r()}),n.add(h,"bevelSegments").min(.2).max(32).step(1).onChange(()=>{t.remove(s),r()});const R=new i.AxesHelper(30);t.add(R);const d={width:window.innerWidth,height:window.innerHeight},c=new i.PerspectiveCamera(75,d.width/d.height,.1,300);c.position.set(0,0,100),t.add(c);let a,p;_(()=>{r(),a=new i.WebGLRenderer({canvas:e.value}),a.setSize(d.width,d.height),p=new j(c,a.domElement),f()}),q(()=>{n.close(),n.destroy()});const G=new i.Clock,f=()=>{window.requestAnimationFrame(f);const l=G.getElapsedTime();s.rotation.y=Math.sin(l*.5),s.rotation.x=Math.cos(l*.5),a==null||a.render(t,c),p==null||p.update()};return window.addEventListener("resize",()=>{d.width=window.innerWidth,d.height=window.innerHeight,c.aspect=d.width/d.height,c.updateProjectionMatrix(),a==null||a.setSize(d.width,d.height),a==null||a.setPixelRatio(Math.min(window.devicePixelRatio,2))}),()=>C(N,null,[C("canvas",{ref:e},null)])}});export{Q as default};
